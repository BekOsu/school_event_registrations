{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h2 class="mt-5 mb-4">Register for Event: {{ event.name }}</h2>

    <!-- Show Event Details -->
    <div class="card mb-4">
        <!-- Set image width to 200px -->
        <img src="{{ event.image.url }}" class="card-img-top" alt="{{ event.name }}" style="max-width: 200px;">
        <div class="card-body">
            <h5 class="card-title">{{ event.name }}</h5>
            <p class="card-text">{{ event.description }}</p>
        </div>
        <div class="card-footer text-muted">
            {{ event.date_time|date:"SHORT_DATE_FORMAT" }} | {{ event.location }}
        </div>
    </div>

    <form method="post" enctype="multipart/form-data" class="mb-5">
        {% csrf_token %}

        <!-- First Name Field -->
        <div class="form-group">
            {{ form.first_name.label_tag }}
            {{ form.first_name }}
            {% if form.first_name.errors %}
                <div class="invalid-feedback" style="display: block;">
                    {% for error in form.first_name.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Last Name Field -->
        <div class="form-group">
            {{ form.last_name.label_tag }}
            {{ form.last_name }}
            {% if form.last_name.errors %}
                <div class="invalid-feedback" style="display: block;">
                    {% for error in form.last_name.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Email Field -->
        <div class="form-group">
            {{ form.email.label_tag }}
            {{ form.email }}
            {% if form.email.errors %}
                <div class="invalid-feedback" style="display: block;">
                    {% for error in form.email.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Phone Number Field -->
        <div class="form-group">
            {{ form.phone_number.label_tag }}
            {{ form.phone_number }}
            {% if form.phone_number.errors %}
                <div class="invalid-feedback" style="display: block;">
                    {% for error in form.phone_number.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Profile Picture Field -->
        <div class="form-group">
            {{ form.profile_picture.label_tag }}
            {{ form.profile_picture }}
            {% if form.profile_picture.errors %}
                <div class="invalid-feedback" style="display: block;">
                    {% for error in form.profile_picture.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <button type="submit" class="btn btn-primary">Register</button>
    </form>

    <!-- Back to Events List Button -->
    <a href="{% url 'events_list' %}" class="btn btn-secondary">Back to Events List</a>
</div>
{% endblock %}
